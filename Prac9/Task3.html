<!DOCTYPE html>

<head>
  <meta charset="utf-8">
  <title>Task 3 — Session vs Total Counters</title>
  <style>
    body { font-family: system-ui, Arial; max-width: 680px; margin: 24px auto; }
    .row { margin: 10px 0; }
    button { margin-right: 8px; }
    code { background:#f5f5f5; padding:0 4px; }
  </style>
</head>
<body>
  <h2>Task 3 — Counters with Web Storage</h2>

  <div class="row">
    <strong>Refresh count (this tab session):</strong>
    <span id="sessionCount">0</span>
    <button id="resetSession">Reset session count</button>
    <div class="small">Uses <code>sessionStorage</code></div>
  </div>

  <div class="row">
    <strong>Total visits (all time):</strong>
    <span id="totalCount">0</span>
    <button id="resetTotal">Reset total visits</button>
    <div class="small">Uses <code>localStorage</code></div>
  </div>

  <script>
    const SESSION_KEY = "t3_session_refreshes";
    const TOTAL_KEY = "t3_total_visits";

    // Increment session refresh count
    const currentSession = Number(sessionStorage.getItem(SESSION_KEY) || 0) + 1;
    sessionStorage.setItem(SESSION_KEY, String(currentSession));

    // Increment total visits
    const currentTotal = Number(localStorage.getItem(TOTAL_KEY) || 0) + 1;
    localStorage.setItem(TOTAL_KEY, String(currentTotal));

    // Update UI
    const sessionCountEl = document.getElementById("sessionCount");
    const totalCountEl = document.getElementById("totalCount");
    function showCounts() {
      sessionCountEl.textContent = sessionStorage.getItem(SESSION_KEY) || "0";
      totalCountEl.textContent = localStorage.getItem(TOTAL_KEY) || "0";
    }
    showCounts();

    // Reset handlers
    document.getElementById("resetSession").onclick = () => {
      sessionStorage.removeItem(SESSION_KEY);
      showCounts();
    };
    document.getElementById("resetTotal").onclick = () => {
      localStorage.removeItem(TOTAL_KEY);
      showCounts();
    };
  </script>
</body>
</html>
